## 执行一条查询语句流程

![查询语句执行流程](https://cdn.jsdelivr.net/gh/iamk123/typora@main/uPic/2023/08/08/13522416914739441691473944041VX9yWt-mysql%E6%9F%A5%E8%AF%A2%E6%B5%81%E7%A8%8B.png)

```
（1）连接器：简历连接，管理连接、校验用户身份
（2）查询缓存：如果命中，直接返回（mysql8.0后移除）
（3）解析器：
		- 词法分析：提取关键字、表名、字段名、查询条件
		- 语法分析：判断sql是否正确
（4）优化器：选择最优的方案执行：如何选择索引？如何关联表的顺序？
（5）执行器：调用引擎接口，返回结果
```

## 为什么移除查询缓存？



## InnoDB 与 MyISAM 的区别 x *

```
（1）事务：InnoDB 支持事务，拥有错误回滚的能力；MyISAM 不支持事务 
（2）锁：InnoDB 支持表、行级锁，拥有更好的并发性能；而 MyISAM 支持表级锁，锁的粒度较大。 
（3）崩溃恢复：InnoDB引引擎通过 redolog 日志实现了崩溃恢复，可以在数据库发生异常情况（如断电）时，通过日志文件进行恢复，保证数据的持久性和一致性。Myisam是不支持崩溃恢复的。
（4）MVCC：InnoDB 支持 MVCC(多版本并发控制)，MyISAM 不支持 

InnoDB 支持外键，MyISAM 不支持外键 
select count(*) from table 时，MyISAM 更快，因为它有一个变量保存了整个 表的总行数，可以直接读取，InnoDB 就需要全表扫描。 
Innodb 不支持全文索引，而 MyISAM 支持全文索引（5.7 以后的 InnoDB 也支持 全文索引） 
InnoDB 表必须有主键，而 MyISAM 可以没有主键 Innodb 表需要更多的内存和存储，而 MyISAM 可被压缩，存储空间较小，。 
Innodb 按主键大小有序插入，MyISAM 记录插入顺序是，按记录插入顺序保存。 

```



## [MySQL事务的12连问，你顶得了嘛](https://juejin.cn/post/7204010536765194277) TODO

## [SQL优化13连问，收藏好](https://juejin.cn/post/7208571916154847288) TODO

https://juejin.cn/post/7199666255884009532

https://juejin.cn/post/7193682380077400122